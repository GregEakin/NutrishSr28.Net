<?xml version="1.0" encoding="utf-8"?>

<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"
                   assembly="SR28lib"
                   namespace="SR28lib.Data">
  <class name="Abbreviations" table="ABBREV" >
    <id name="NDB_No" column="NDB_No" type="string" length="5">
      <generator class="assigned" />
    </id>
    <!--
    <property name = "Shrt_Desc" length="60" not-null="false" />
    <property name = "Water" />
    <property name = "Energ_Kcal" />
    <property name = "Protein" />
    <property name = "Lipid_Tot" />
    <property name = "Ash" />
    <property name = "Carbohydrt" not-null="false" />
    <property name = "Fiber_TD" />
    <property name = "Sugar_Tot" />
    <property name = "Calcium" />
    <property name = "Iron" />
    <property name = "Magnesium" />
    <property name = "Phosphorus" />
    <property name = "Potassium" />
    <property name = "Sodium" />
    <property name = "Zinc" />
    <property name = "Copper" />
    <property name = "Manganese" />
    <property name = "Selenium" />
    <property name = "Vit_C" />
    <property name = "Thiamin" />
    <property name = "Riboflavin" />
    <property name = "Niacin" />
    <property name = "Panto_acid" />
    <property name = "Vit_B6" />
    <property name = "Folate_Tot" />
    <property name = "Folic_acid" />
    <property name = "Food_Folate" />
    <property name = "Folate_DFE" />
    <property name = "Choline_Tot" />
    <property name = "Vit_B12" />
    <property name = "Vit_A_IU" />
    <property name = "Vit_A_RAE" />
    <property name = "Retinol" />
    <property name = "Alpha_Carot" />
    <property name = "Beta_Carot" />
    <property name = "Beta_Crypt" />
    <property name = "Lycopene" />
    <property name = "Lut_Zea" />
    <property name = "Vit_E" />
    <property name = "Vit_D_mcg" />
    <property name = "Vit_D_IU" />
    <property name = "Vit_K" />
    <property name = "FA_Sat" />
    <property name = "FA_Mono" />
    <property name = "FA_Poly" />
    <property name = "Cholestrl" />
    <property name = "GmWt_1" />
    <property name = "GmWt_Desc1" length="120" />
    <property name = "GmWt_2" />
    <property name = "GWt_Desc2" length="120" />
    <property name = "Refuse_Pct" />
    -->
  </class>
  
  <class name="DataDerivation" table="DERIV_CD" >
    <id name="Deriv_Cd" column="Deriv_Cd" type="string" length="4">
      <generator class="assigned" />
    </id>
    <property name="Deriv_Desc" type="string" length="120" not-null="true" />
    <bag name="NutrientDataSet" table="NutrientData">
      <key column="dataDerivation" />
      <one-to-many class="NutrientData" />
    </bag>
  </class>

  <class name="DataSource" table="DATA_SRC" >
    <id name="DataSrc_ID" column="DataSrc_ID" type="string" length="6">
      <generator class="assigned" />
    </id>
    <property name = "Authors" type="string" length="255" />
    <property name = "Title" type="string" length="255" not-null="false" />
    <property name = "Year" type="string" length="4" />
    <property name = "Journal" type="string" length="135" />
    <property name = "Vol_City" type="string" length="16" />
    <property name = "Issue_State" type="string" length="5" />
    <property name = "Start_Page" type="string" length="5" />
    <property name = "End_Page" type="string" length="5" />
    <bag name="NutrientDataSet" table="NutrientData">
      <key column="dataSourceSet" />
      <one-to-many class="NutrientData" />
    </bag>
  </class>
  
  <class name="FoodDescription" table="FOOD_DES" >
    <id name="NDB_No" column="NDB_No" type="string" length="5">
      <generator class="assigned" />
    </id>
    <many-to-one name="FoodGroups" class="FoodGroup" column="FdGrp_Cd" cascade="all" not-null="true" />
    <property name="Long_Desc" type="string" length="200" not-null="true" />
    <property name="Shrt_Desc" type="string" length="60" not-null="true" />
    <property name="ComName" type="string" length="100" />
    <property name="ManufacName" type="string" length="65" />
    <property name="Survey" type="string" length="1" />
    <property name="Ref_desc" type="string" length="135" />
    <property name="Refuse" type="int" />
    <property name="SciName" type="string" length="65" />
    <property name="N_Factor" type="double" />
    <property name="Pro_Factor" type="double" />
    <property name="Fat_Factor" type="double" />
    <property name="CHO_Factor" type="double" />
  </class>

  <class name="FoodGroup" table="FD_GROUP">
    <id name="FdGrp_Cd" column="FdGrp_Cd" type="string" length="4">
      <generator class="assigned" />
    </id>
    <property name="FdGrp_Desc" type="string" length="60" not-null="true" />
    <bag name="FoodDescriptions" table="FOOD_DES">
      <key column="foodGroup" />
      <one-to-many class="FoodGroup" />
    </bag>
  </class>

  <class name="Footnote" table="FOOTNOTE" >
    <id name="Id" column="ID" >
      <generator class="native" />
    </id>

  </class>
  
  <class name="Language" table="LANGDESC" >
    <id name="Factor_Code" column="Factor_Code" type="string" length="5">
      <generator class="assigned" />
    </id>

  </class>
  
  <class name="NutrientData" table="NUT_DATA" >
    <composite-id name="NutrientDataKey" class="NutrientDataKey">
      <key-many-to-one class="FoodDescription" name="FoodDescription" column="NDB_No" />
      <key-many-to-one class="NutrientDefinition" name="NutrientDefinition" column="Nutr_No" />
    </composite-id>

  </class>

  <class name="NutrientDefinition" table="NUTR_DEF" >
    <id name="Nutr_No" column="Nutr_No" type="string" length="3">
      <generator class="assigned" />
    </id>

  </class>
  
  <class name="SourceCode" table="SRC_CD" >
    <id name="Src_Cd" column="Src_Cd" type="string" length="2">
      <generator class="assigned" />
    </id>

  </class>
  
  <class name="Weight" table="WEIGHT" >
    <composite-id name="WeightKey" class="WeightKey">
      <key-many-to-one class="FoodDescription" name="FoodDescription" column="NDB_No" />
      <key-property name="Seq" column="Seq" type="string" length="2"/>
    </composite-id>
    <property name="Amount" type="double" />
    <property name="Msre_Desc" type="string" length="84" />
    <property name="Gm_Wgt" type="double" />
    <property name="Num_Data_Pts" type="int" />
    <property name="Std_Dev" type="double" />
  </class>

</hibernate-mapping>